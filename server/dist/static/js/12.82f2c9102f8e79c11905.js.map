{"version":3,"sources":["webpack:///src/views/user/order.vue","webpack:///./src/views/user/order.vue?978d","webpack:///./src/views/user/order.vue"],"names":["order","name","components","commonTop","header","data","activeIndex","token","navList","active","computed","extends_default","Object","vuex_esm","food","selectedFood","count","totalPrice","created","console","log","this","$route","params","realTotalPrice","address","from","localStorage","get","self","$http","post","order_user","order_status","then","response","forEach","item","order_time","handle","methods","toggleNav","index","time","res","arr1","split","push","arr2","join","goOrderDetail","id","$router","price","order_price","user_order","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","text_middle","_v","_l","key","class","activeLi","on","click","$event","_s","Id","order_number","delivery_user","delivery_tel","delivery_address","span","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.82f2c9102f8e79c11905.js","sourcesContent":["<template>\r\n    <div class=\"wrapper\">\r\n        <commonTop text_middle=\"订单\"></commonTop>\r\n        <div class=\"order\">\r\n             <ul v-for='(item,index) in navList' :key='index'>\r\n                <li @click='toggleNav(index)' :class=\"{'activeLi':item.active}\">{{item.name}}</li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"waitPay\" :class=\"{'active':navList[0].active}\">\r\n               <div class=\"orderDiv\" v-for='(item,index) in order' :key='item.Id' @click=\"goOrderDetail(item.Id,index)\">\r\n                   <ul>\r\n                       <li>\r\n                           <div>\r\n                               <span>订单编号：{{item.order_number}}</span>\r\n                            </div>\r\n                            <div>\r\n                               <span>订单时间:{{item.order_time}}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>收货人：{{item.delivery_user}}</span>\r\n                                <span>收货电话：{{item.delivery_tel}}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>收货地址：{{item.delivery_address}}</span>\r\n                            </div>\r\n                       </li>\r\n                   </ul>\r\n               </div>\r\n        </div>\r\n        <div class=\"finishPay\" :class=\"{'active':navList[1].active}\">\r\n        </div>\r\n        <el-row class=\"tab\">\r\n            <el-col :span=\"6\"><div class=\"grid-content tabList\"><router-link to=\"/\"><i class=\"glyphicon glyphicon-thumbs-up\"></i><br>推荐</router-link></div></el-col>\r\n            <el-col :span=\"6\"><div class=\"grid-content tabList\"><router-link to=\"/all\"><i class=\"glyphicon glyphicon-th\"></i><br>所有</router-link></div></el-col>\r\n            <el-col :span=\"6\"><div class=\"grid-content tabList\"><router-link to=\"/order\"><i class=\"glyphicon glyphicon-shopping-cart\"></i><br>订单</router-link></div></el-col>\r\n            <el-col :span=\"6\"><div class=\"grid-content tabList\"><router-link to=\"/my\"><i class=\"glyphicon glyphicon-user\"></i><br>我的</router-link></div></el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {mapState,mapGetters,mapActions} from 'vuex'; \r\nimport commonTop from '@/components/common/header';\r\nimport localStorage from '../../utils/localStorage';\r\nexport default {\r\n  name: 'order',\r\n  components: {\r\n      commonTop,\r\n  },\r\n  data(){\r\n      return {\r\n          activeIndex:1,\r\n          order:[],\r\n          token:'',\r\n          navList:[{\r\n              name:'待支付',\r\n              active:true\r\n            },\r\n            {\r\n             name:'已完成',\r\n             active:false,\r\n            }\r\n          ],\r\n      }\r\n  },\r\n  computed:{\r\n    // ...mapGetters('login',{ \r\n    //     user:'getUser',\r\n    // }),\r\n     ...mapGetters('food',{ \r\n        food:'getFood',\r\n        selectedFood:'getSelectedFood',\r\n        count:'getCount',\r\n        totalPrice:'getTotalPrice'\r\n  }),\r\n },\r\n created(){\r\n     console.log(this.$route.params.realTotalPrice);\r\n     console.log(this.$route.params.address);\r\n     console.log(this.$route.params.from);\r\n     console.log(this.selectedFood);\r\n     this.token=localStorage.get('accessToken');\r\n     console.log('1111');\r\n      console.log(this.token);\r\n     var self=this;\r\n    //  var date=new Date().getTime();\r\n    //  var time=this.getNowDate();\r\n    // if(this.$route.params.from === 'pay'){\r\n    //     console.log('111');\r\n    //      this.$http.post('/api/order/createOrder',{\r\n    //      selectedFood:self.selectedFood,\r\n    //      realTotalPrice:self.$route.params.realTotalPrice,\r\n    //      address:self.$route.params.address,\r\n    //      token:this.token,\r\n    //      }).then(function (response){\r\n    //          console.log(response.data);\r\n    //     });\r\n    // }else{\r\n    //      this.$http.post('/api/order/selectOrder',{order_user:this.token,order_status:this.activeIndex}).then(function (response){\r\n    //       console.log(response.data);\r\n    //       self.order=response.data;\r\n    //       self.order.forEach((item)=>{\r\n    //          item.order_time= self.handle(item.order_time);\r\n    //       });\r\n    //     });\r\n    // }\r\n\r\n     this.$http.post('/api/order/selectOrder',{order_user:this.token,order_status:this.activeIndex}).then(function (response){\r\n          console.log(response.data);\r\n          self.order=response.data;\r\n          self.order.forEach((item)=>{\r\n             item.order_time= self.handle(item.order_time);\r\n          });\r\n        });\r\n\r\n },\r\n methods:{\r\n     toggleNav(index){\r\n         this.navList.forEach((item)=>{\r\n             console.log(item);\r\n             item.active=false;\r\n         });\r\n        this.navList[index].active=true;\r\n     },\r\n     handle(time){\r\n         var res=[];\r\n         var arr1=time.split('T');\r\n         res.push(arr1[0]);\r\n         var arr2=arr1[1].split(\".\");\r\n         res.push(arr2[0]);\r\n         res=res.join(' ');\r\n         return res;\r\n        \r\n     },\r\n     goOrderDetail(id,index){\r\n         this.$router.push({\r\n             name:'orderDetail',\r\n             params:{\r\n                 id:id,\r\n                 from:'order',\r\n                 price:this.order[index].order_price,\r\n             }\r\n         });\r\n     },\r\n    //  getNowDate(){\r\n    //     var date = new Date();\r\n    //     var sign1 = \"-\";\r\n    //     var sign2 = \":\";\r\n    //     var year = date.getFullYear() // 年\r\n    //     var month = date.getMonth() + 1; // 月\r\n    //     var day  = date.getDate(); // 日\r\n    //     var hour = date.getHours(); // 时\r\n    //     var minutes = date.getMinutes(); // 分\r\n    //     var seconds = date.getSeconds() //秒\r\n    //     if (month >= 1 && month <= 9) {\r\n    //         month = \"0\" + month;\r\n    //     }\r\n    //     if (day >= 0 && day <= 9) {\r\n    //         day = \"0\" + day;\r\n    //     }\r\n    //     if (hour >= 0 && hour <= 9) {\r\n    //         hour = \"0\" + hour;\r\n    //     }\r\n    //     if (minutes >= 0 && minutes <= 9) {\r\n    //         minutes = \"0\" + minutes;\r\n    //     }\r\n    //     if (seconds >= 0 && seconds <= 9) {\r\n    //         seconds = \"0\" + seconds;\r\n    //     }\r\n    //     var currentdate = year + sign1 + month + sign1 + day + \" \" + hour + sign2 + minutes + sign2 + seconds;\r\n    //     return currentdate;\r\n    //  }\r\n },\r\n}\r\n</script>\r\n<style lang='less' scoped>\r\n.wrapper{\r\n     margin-bottom:70px;\r\n    .order{\r\n        width:100%;\r\n        height:40px;\r\n        line-height:40px;\r\n        color:#666;\r\n        display:flex;\r\n        ul,li{\r\n            padding:0;\r\n            margin:0;\r\n            list-style:none;\r\n            flex:1;\r\n            border-bottom:1px solid #999;\r\n        }\r\n        .activeLi{\r\n            color:#3AC0B5;\r\n            border-bottom:1px solid #3AC0B5;\r\n        }\r\n    }\r\n    .waitPay,.finishPay{\r\n        width:100%;\r\n        height:auto;\r\n        display:none;\r\n    }\r\n    .active{\r\n        display:block;\r\n    }\r\n    .orderDiv{\r\n        ul,li{\r\n            padding:0;\r\n            margin:0;\r\n        }\r\n        li{\r\n            list-style:none;\r\n            div{\r\n                display:flex;\r\n                justify-content:space-between;\r\n                text-align:left;\r\n                margin:.35rem .25rem;\r\n            }\r\n            border-bottom:1px solid #999;\r\n        }\r\n        \r\n    }\r\n    .tab {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 60px;\r\n  z-index: 1000;\r\n  background: #000;\r\n  opacity: 0.4;\r\n  color:#fff;\r\n  padding-top:10px;\r\n  a{\r\n    color:#fff;\r\n  }\r\n}\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/user/order.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('commonTop',{attrs:{\"text_middle\":\"订单\"}}),_vm._v(\" \"),_c('div',{staticClass:\"order\"},_vm._l((_vm.navList),function(item,index){return _c('ul',{key:index},[_c('li',{class:{'activeLi':item.active},on:{\"click\":function($event){return _vm.toggleNav(index)}}},[_vm._v(_vm._s(item.name))])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"waitPay\",class:{'active':_vm.navList[0].active}},_vm._l((_vm.order),function(item,index){return _c('div',{key:item.Id,staticClass:\"orderDiv\",on:{\"click\":function($event){return _vm.goOrderDetail(item.Id,index)}}},[_c('ul',[_c('li',[_c('div',[_c('span',[_vm._v(\"订单编号：\"+_vm._s(item.order_number))])]),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(\"订单时间:\"+_vm._s(item.order_time))])]),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(\"收货人：\"+_vm._s(item.delivery_user))]),_vm._v(\" \"),_c('span',[_vm._v(\"收货电话：\"+_vm._s(item.delivery_tel))])]),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(\"收货地址：\"+_vm._s(item.delivery_address))])])])])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"finishPay\",class:{'active':_vm.navList[1].active}}),_vm._v(\" \"),_c('el-row',{staticClass:\"tab\"},[_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content tabList\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"glyphicon glyphicon-thumbs-up\"}),_c('br'),_vm._v(\"推荐\")])],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content tabList\"},[_c('router-link',{attrs:{\"to\":\"/all\"}},[_c('i',{staticClass:\"glyphicon glyphicon-th\"}),_c('br'),_vm._v(\"所有\")])],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content tabList\"},[_c('router-link',{attrs:{\"to\":\"/order\"}},[_c('i',{staticClass:\"glyphicon glyphicon-shopping-cart\"}),_c('br'),_vm._v(\"订单\")])],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content tabList\"},[_c('router-link',{attrs:{\"to\":\"/my\"}},[_c('i',{staticClass:\"glyphicon glyphicon-user\"}),_c('br'),_vm._v(\"我的\")])],1)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-16db6a9b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/user/order.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16db6a9b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./order.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./order.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./order.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16db6a9b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./order.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-16db6a9b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/order.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}