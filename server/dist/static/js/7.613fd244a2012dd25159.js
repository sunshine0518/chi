webpackJsonp([7],{"4K++":function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=i("4YfN"),o=i.n(a),n=i("R4Sj"),c=i("Mitt"),e=i("ssT3"),l={name:"my",components:{commonTop:c.a},data:function(){return{token:"",user:""}},computed:{userPic:function(){return this.token?(console.log("222"),this.user.user_pic):(console.log("111"),"http://144.202.90.177:3004/upload/userImg/defaultUser.jpg")},userName:function(){return this.token?(console.log("222"),this.user.user_name):"客多多"}},created:function(){console.log(e.a.get("userInfo")),console.log(e.a.get("accessToken")),this.token=e.a.get("accessToken"),this.user=e.a.get("userInfo")},mounted:function(){},methods:o()({},Object(n.b)("login",["getNewToken","getNewUser"]),{goLogin:function(){this.$router.push("/login")},goRegister:function(){this.$router.push("/register")},checkIsLogin:function(t){return!!t},handleFile:function(t){var s=this,i=this,a=(t.target||t.srcElement).files[0],o=this.token,n=this.user.user_tel;if(this.checkIsLogin(o)){var c=new FileReader;c.onload=function(t){var a=t.target||t.srcElement;s.user.user_pic=a.result,console.log(s.user.user_pic),s.$http.post("/api/uploadUserPic",{user_pic:a.result}).then(function(t){return console.log(t.data),"http://0.0.0.0:3000/public/img/"+t.data.user_pic}).then(function(t){console.log(t),i.$http.post("/api/user/updateUserPic",{user_pic:t,user_tel:n}).then(function(t){console.log(t.data)})})},c.readAsDataURL(a)}},goModify:function(){var t=this.token;this.checkIsLogin(t)&&this.$router.push("/modify")},exit:function(){console.log("exit"),this.token&&(this.token="",e.a.clear())},goAddress:function(){this.$router.push({name:"addressList",params:{from:"edit"}})},goOrder:function(){this.$router.push("/order")}})},r={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"wrapper"},[i("commonTop",{attrs:{text_middle:t.userName}}),t._v(" "),i("div",{staticClass:"block_info"},[i("div",{staticClass:"info_img"},[i("div",{staticClass:"info_img_wrapper"},[i("input",{staticClass:"hiddenInput",attrs:{type:"file",accept:"image/*"},on:{change:t.handleFile}})]),t._v(" "),i("img",{attrs:{src:t.userPic}}),t._v(" "),t.token?t._e():i("div",{staticClass:"login"},[i("span",{on:{click:t.goLogin}},[t._v("登录")]),t._v(" "),i("span",{on:{click:t.goRegister}},[t._v("注册")])])])]),t._v(" "),i("div",{staticClass:"info_operation"},[i("el-row",{staticClass:"info_operation_list"},[i("el-col",{staticClass:"row_left",attrs:{span:3}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"icon icon_order"},[i("i",{staticClass:"glyphicon glyphicon-list-alt"})])])]),t._v(" "),i("el-col",{staticClass:"row_left",attrs:{span:18}},[i("div",{staticClass:"grid-content",on:{click:t.goOrder}},[i("span",{staticClass:"text"},[t._v("我的订单")])])]),t._v(" "),i("el-col",{staticClass:"row_right",attrs:{span:3}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"icon_right"},[i("i",{staticClass:"el-icon-arrow-right"})])])])],1),t._v(" "),i("div",{staticClass:"info_operation_list_block",on:{click:t.goModify}},[i("el-row",{staticClass:"info_operation_list"},[i("el-col",{staticClass:"row_left",attrs:{span:3}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"icon icon_lock"},[i("i",{staticClass:"glyphicon glyphicon-lock"})])])]),t._v(" "),i("el-col",{staticClass:"row_left",attrs:{span:18}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"text"},[t._v("修改密码")])])]),t._v(" "),i("el-col",{staticClass:"row_right",attrs:{span:3},on:{click:t.goModify}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"icon_right"},[i("i",{staticClass:"el-icon-arrow-right"})])])])],1)],1),t._v(" "),i("el-row",{staticClass:"info_operation_list"},[i("el-col",{staticClass:"row_left",attrs:{span:3}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"icon icon_qrcode"},[i("i",{staticClass:"glyphicon glyphicon-qrcode"})])])]),t._v(" "),i("el-col",{staticClass:"row_left",attrs:{span:18}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"text"},[t._v("优惠券")])])]),t._v(" "),i("el-col",{staticClass:"row_right",attrs:{span:3}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"icon_right"},[i("i",{staticClass:"el-icon-arrow-right"})])])])],1),t._v(" "),i("el-row",{staticClass:"info_operation_list"},[i("el-col",{staticClass:"row_left",attrs:{span:3}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"icon icon_marker"},[i("i",{staticClass:"glyphicon glyphicon-map-marker"})])])]),t._v(" "),i("el-col",{staticClass:"row_left",attrs:{span:18}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"text"},[t._v("收货地址")])])]),t._v(" "),i("el-col",{staticClass:"row_right",attrs:{span:3}},[i("div",{staticClass:"grid-content",on:{click:t.goAddress}},[i("span",{staticClass:"icon_right"},[i("i",{staticClass:"el-icon-arrow-right"})])])])],1),t._v(" "),i("div",{staticClass:"info_operation_list_block",on:{click:t.exit}},[i("el-row",{staticClass:"info_operation_list"},[i("el-col",{staticClass:"row_left",attrs:{span:3}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"icon icon_off"},[i("i",{staticClass:"glyphicon glyphicon-off"})])])]),t._v(" "),i("el-col",{staticClass:"row_left",attrs:{span:18}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"text"},[t._v("退出")])])]),t._v(" "),i("el-col",{staticClass:"row_right",attrs:{span:3}},[i("div",{staticClass:"grid-content"},[i("span",{staticClass:"icon_right"})])])],1)],1)],1),t._v(" "),i("div",{staticClass:"tab_block"},[i("el-row",{staticClass:"tab"},[i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content tabList"},[i("router-link",{attrs:{to:"/"}},[i("i",{staticClass:"glyphicon glyphicon-thumbs-up"}),i("br"),t._v("推荐")])],1)]),t._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content tabList"},[i("router-link",{attrs:{to:"/all"}},[i("i",{staticClass:"glyphicon glyphicon-th"}),i("br"),t._v("所有")])],1)]),t._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content tabList"},[i("router-link",{attrs:{to:"/order"}},[i("i",{staticClass:"glyphicon glyphicon-shopping-cart"}),i("br"),t._v("订单")])],1)]),t._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"grid-content tabList"},[i("router-link",{attrs:{to:"/my"}},[i("i",{staticClass:"glyphicon glyphicon-user"}),i("br"),t._v("我的")])],1)])],1)],1)],1)},staticRenderFns:[]};var p=i("C7Lr")(l,r,!1,function(t){i("9+7t")},"data-v-71180c5e",null);s.default=p.exports},"9+7t":function(t,s){}});
//# sourceMappingURL=7.613fd244a2012dd25159.js.map