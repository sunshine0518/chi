webpackJsonp([6],{Hj5i:function(e,r){},NxzY:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("oAV5"),s={name:"register",components:{commonTop:t("Mitt").a},data:function(){var e=this;return{ruleForm:{pass:"",checkPass:"",tel:""},rules:{name:[{required:!0,validator:function(r,t,s){t?o.a.nameReg.test(e.ruleForm.name)?s():s(new Error("请输入合法的昵称")):s(new Error("请输入昵称"))},message:"请输入用户名",trigger:"blur"}],pass:[{required:!0,validator:function(r,t,s){""===t?s(new Error("请输入密码")):o.a.nameReg.test(e.ruleForm.pwdReg)?(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),s()):s(new Error("请输入合法的密码"))},trigger:"blur"}],checkPass:[{required:!0,validator:function(r,t,o){""===t?o(new Error("请再次输入密码")):t!==e.ruleForm.pass?o(new Error("两次输入密码不一致!")):o()},trigger:"blur"}],tel:[{required:!0,validator:function(r,t,s){""===t?s(new Error("请输入手机号")):o.a.phoneReg.test(e.ruleForm.tel)?e.$http.post("/api/user/selectUserByPhone",{tel:e.ruleForm.tel}).then(function(e){console.log(e),e.data[0].count?s(new Error("手机号已被注册，换一个")):s()}):s(new Error("请输入合法的手机号"))},trigger:"blur"}],email:[{required:!0,validator:function(r,t,s){""===t?s(new Error("请输入邮箱")):o.a.nameReg.test(e.ruleForm.emailReg)?s():s(new Error("请输入合法的邮箱"))},message:"请输入邮箱",trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.$http.post("/api/user/addUser",r.ruleForm).then(function(e){console.log(e),r.$router.push("/login")})})},resetForm:function(e){this.$refs[e].resetFields()}}},l={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"registeInfo"},[t("commonTop",{attrs:{text_middle:"注册"}}),e._v(" "),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"auto"}},[t("el-form-item",{attrs:{label:"手机号",prop:"tel"}},[t("el-input",{model:{value:e.ruleForm.tel,callback:function(r){e.$set(e.ruleForm,"tel",r)},expression:"ruleForm.tel"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"pass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1),e._v(" "),t("el-form-item",[t("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var a=t("C7Lr")(s,l,!1,function(e){t("Hj5i")},"data-v-e110410a",null);r.default=a.exports}});
//# sourceMappingURL=6.db91fb47a413d8504452.js.map