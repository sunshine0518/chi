webpackJsonp([17],{"/1Fx":function(t,e){},"5OHe":function(t,e){},AGus:function(t,e,n){t.exports=n.p+"static/img/5b3b1bd811341.7db152a.jpg"},"KTG/":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("xd7I"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("C7Lr")({name:"App"},a,!1,function(t){n("/1Fx")},null,null).exports,s=n("3XdE"),r=n("3cXf"),c=n.n(r),l=n("4YfN"),d=n.n(l),u=n("R4Sj"),p=n("ssT3"),m=(n("oAV5"),n("QxwX")),h=n("X1H5"),f=n.n(h),g={name:"index",data:function(){return{allEat:[],token:""}},created:function(){this.token=p.a.get("accessToken")},computed:{showMenu:function(){return!!this.token}},mounted:function(){new m.a(".swiper-container",{autoplay:!0,loop:!0,pagination:".swiper-pagination"});var t=this;this.$http.get("/api/commodity/selectCommodity").then(function(e){console.log("food"),console.log(e),t.fetchData(e.data.result)}),this.$http.post("/api/shop/selectShopDetail",{Id:1}).then(function(e){console.log(e.data),t.getNewShop({shop:e.data.shop}),t.getNewShop({shop:e.data.shop})})},methods:d()({},Object(u.b)("shop",["getNewShop"]),{goLogin:function(){this.$router.push("/login")},goRegister:function(){this.$router.push("/register")},goTop:function(){var t=null;cancelAnimationFrame(t),t=requestAnimationFrame(function e(){var n=document.body.scrollTop||document.documentElement.scrollTop;n>0?(document.body.scrollTop=document.documentElement.scrollTop=n-50,t=requestAnimationFrame(e)):cancelAnimationFrame(t)})},goMy:function(){this.$router.push("/my")},fetchData:function(t){this.allEat=t},goDetail:function(t){this.$router.push({name:"detail",params:{commodity_shop:1,id:t}})},getAccessToken:function(){console.log("aaa");var t=this,e=window.location.href.split("#")[0];console.log(e),this.$http.post("/api/getAccessToken",{url:e}).then(function(e){console.log(e),f.a.config({debug:!1,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.noncestr,signature:e.data.signature,jsApiList:["getLocation","chooseImage"]}),f.a.checkJsApi({jsApiList:["getLocation"],success:function(t){alert(c()(t))}}),f.a.ready(function(){console.log("ready"),f.a.getLocation({type:"wgs84",success:function(e){console.log(e),t.location.latitude=e.latitude,t.location.longitude=e.longitude,t.location.speed=e.speed,t.location.accuracy=e.accuracy}})}),f.a.error(function(t){alert(t)})})}})},v={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper"},[o("div",{staticClass:"header"},[o("el-row",[o("el-col",{attrs:{span:5}},[o("div",{staticClass:"grid-content"},[o("el-dropdown",[o("span",{staticClass:"el-dropdown-link"},[t._v("\n                西安"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"})],1)],1)]),t._v(" "),o("el-col",{attrs:{span:14}},[o("div",{staticClass:"grid-content header_search"},[o("input",{attrs:{type:"text",placeholder:"请输入商品"}})])]),t._v(" "),o("el-col",{attrs:{span:5}},[o("div",{staticClass:"grid-content",on:{click:t.goMy}},[o("img",{staticClass:"goMy",attrs:{src:n("tjAW")}})])])],1)],1),t._v(" "),t._m(0),t._v(" "),o("el-row",{staticClass:"menu"},[o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content"},[o("router-link",{attrs:{to:"/"}},[o("div",{staticClass:"menu-list home"}),t._v(" "),o("div",{staticClass:"text"},[t._v("首页")])])],1)]),t._v(" "),o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content"},[o("router-link",{attrs:{to:"/all"}},[o("div",{staticClass:"menu-list class"}),t._v(" "),o("div",{staticClass:"text"},[t._v("所有")])])],1)]),t._v(" "),o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content"},[o("router-link",{attrs:{to:"/my"}},[o("div",{staticClass:"menu-list my"}),t._v(" "),o("div",{staticClass:"text"},[t._v("我的")])])],1)]),t._v(" "),o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content"},[o("router-link",{attrs:{to:"/order"}},[o("div",{staticClass:"menu-list cart"}),t._v(" "),o("div",{staticClass:"text"},[t._v("订单")])])],1)])],1),t._v(" "),o("el-row",{staticClass:"recommendation"},[o("el-col",{attrs:{span:24}},[o("div",{staticClass:"grid-content"},[t._v("新品推荐")])])],1),t._v(" "),t._l(t.allEat,function(e){return o("div",{key:e.id,staticClass:"eatWrapper",on:{click:function(n){return t.goDetail(e.Id)}}},[o("el-row",{staticClass:"eatList"},[o("el-col",{attrs:{span:8}},[o("div",{staticClass:"grid-content"},[o("img",{staticClass:"eatImg",attrs:{src:e.commodity_pic}})])]),t._v(" "),o("el-col",{attrs:{span:16}},[o("div",{staticClass:"grid-content eatInfo"},[o("p",{staticClass:"commodity_name"},[t._v(t._s(e.commodity_name))]),t._v(" "),o("p",{staticClass:"commodity_info"},[t._v(t._s(e.commodity_info))]),t._v(" "),o("p",{staticClass:"commodity_sell"},[o("el-row",[o("el-col",{staticClass:"commodity_price",attrs:{span:12}},[o("div",{staticClass:"grid-content"},[t._v(t._s(e.commodity_price)+"元")])]),t._v(" "),o("el-col",{staticClass:"commodity_sold",attrs:{span:12}},[o("div",{staticClass:"grid-content"},[t._v("已售"+t._s(e.commodity_sold)+"份")])])],1)],1)])])],1)],1)}),t._v(" "),o("el-row",{staticClass:"block"},[o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content row_block",class:{acitveMenu:t.showMenu},on:{click:t.goLogin}},[t._v("登录")])]),t._v(" "),o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content row_block",class:{acitveMenu:t.showMenu},on:{click:t.goRegister}},[t._v("注册")])]),t._v(" "),o("el-col",{attrs:{span:12}},[o("div",{staticClass:"grid-content goTop",on:{click:t.goTop}},[t._v("返回顶部")])])],1),t._v(" "),o("el-row",{staticClass:"tab"},[o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content tabList"},[o("router-link",{attrs:{to:"/"}},[o("i",{staticClass:"glyphicon glyphicon-thumbs-up"}),o("br"),t._v("推荐")])],1)]),t._v(" "),o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content tabList"},[o("router-link",{attrs:{to:"/all"}},[o("i",{staticClass:"glyphicon glyphicon-th"}),o("br"),t._v("所有")])],1)]),t._v(" "),o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content tabList"},[o("router-link",{attrs:{to:"/order"}},[o("i",{staticClass:"glyphicon glyphicon-shopping-cart"}),o("br"),t._v("订单")])],1)]),t._v(" "),o("el-col",{attrs:{span:6}},[o("div",{staticClass:"grid-content tabList"},[o("router-link",{attrs:{to:"/my"}},[o("i",{staticClass:"glyphicon glyphicon-user"}),o("br"),t._v("我的")])],1)])],1)],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide"},[e("img",{staticClass:"cover",attrs:{src:n("v156")}})]),this._v(" "),e("div",{staticClass:"swiper-slide"},[e("img",{staticClass:"cover",attrs:{src:n("NkIP")}})]),this._v(" "),e("div",{staticClass:"swiper-slide"},[e("img",{staticClass:"cover",attrs:{src:n("AGus")}})])]),this._v(" "),e("div",{staticClass:"swiper-pagination"})])}]};var y=n("C7Lr")(g,v,!1,function(t){n("f87J")},"data-v-61c7e650",null).exports;o.default.use(s.a);var A=new s.a({routes:[{path:"/",name:"index",component:y},{path:"/login",name:"login",component:function(t){return Promise.all([n.e(0),n.e(13)]).then(function(){var e=[n("XVVD")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/register",name:"register",component:function(t){return Promise.all([n.e(0),n.e(6)]).then(function(){var e=[n("NxzY")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/my",name:"my",component:function(t){return Promise.all([n.e(0),n.e(7)]).then(function(){var e=[n("4K++")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/all",name:"all",component:function(t){return Promise.all([n.e(0),n.e(1)]).then(function(){var e=[n("LIjm")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/cart",name:"cart",component:function(t){return Promise.all([n.e(0),n.e(5)]).then(function(){var e=[n("czqj")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/detail:commodity_shop",name:"detail",component:function(t){return n.e(9).then(function(){var e=[n("yW15")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/eatDetail",name:"eatDetail",component:function(t){return Promise.all([n.e(0),n.e(4)]).then(function(){var e=[n("TimN")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/pay",name:"pay",meta:{requireAuth:!0},component:function(t){return Promise.all([n.e(0),n.e(10)]).then(function(){var e=[n("6Y8k")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/modify",name:"modify",component:function(t){return Promise.all([n.e(0),n.e(15)]).then(function(){var e=[n("aLUb")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/addAddress:address_user",name:"addAddress",component:function(t){return Promise.all([n.e(0),n.e(2)]).then(function(){var e=[n("UahN")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/addressList:from",name:"addressList",component:function(t){return Promise.all([n.e(0),n.e(11)]).then(function(){var e=[n("Pi2Z")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/editAddress",name:"editAddress",component:function(t){return Promise.all([n.e(0),n.e(3)]).then(function(){var e=[n("q7Pr")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/order",name:"order",meta:{requireAuth:!0},component:function(t){return Promise.all([n.e(0),n.e(12)]).then(function(){var e=[n("pek7")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/foodDetail",name:"foodDetail",meta:{requireAuth:!0},component:function(t){return Promise.all([n.e(0),n.e(8)]).then(function(){var e=[n("v5aH")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/orderDetail",name:"orderDetail",meta:{requireAuth:!0},component:function(t){return Promise.all([n.e(0),n.e(14)]).then(function(){var e=[n("J9EG")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}),C=n("aozt"),w=n.n(C),b=n("h3lo"),_=n.n(b),k={namespaced:!0,state:{token:"",user:{}},getters:{getToken:function(t){return t.token},getUser:function(t){return t.user}},mutations:{newToken:function(t,e){t.token=e},newUser:function(t,e){console.log(e),t.user=e}},actions:{getNewToken:function(t,e){t.commit("newToken",e.token)},getNewUser:function(t,e){t.commit("newUser",e.user)}}},M={namespaced:!0,state:{deliveryAddress:[]},getters:{getDeliveryAddress:function(t){return t.deliveryAddress}},mutations:{newDeliveryAddress:function(t,e){t.deliveryAddress=e}},actions:{getNewDeliveryAddress:function(t,e){t.commit("newDeliveryAddress",e.address)}}},N={food:[],selectedFood:[],count:0,totalPrice:0},P={namespaced:!0,state:N,getters:{getFood:function(){return N.food},getSelectedFood:function(){return N.selectedFood},getCount:function(){return N.count},getTotalPrice:function(){return N.totalPrice}},mutations:{newFood:function(t,e){t.food=e},newSelectedFood:function(t,e){t.selectedFood=e},newCount:function(t,e){t.count=e},newTotalPrice:function(t,e){t.totalPrice=e}},actions:{getNewFood:function(t,e){t.commit("newFood",e)},getNewSelectedFood:function(t,e){t.commit("newSelectedFood",e.selected)},getNewCount:function(t,e){t.commit("newCount",e.count)},getNewTotalPrice:function(t,e){t.commit("newTotalPrice",e.totalPrice)}}},S={namespaced:!0,state:{shop:{}},getters:{getShop:function(t){return t.shop}},mutations:{newShop:function(t,e){t.shop=e}},actions:{getNewShop:function(t,e){t.commit("newShop",e.shop)}}};o.default.use(u.a);var T=new u.a.Store({modules:{my:_.a,login:k,address:M,food:P,shop:S}}),x=n("Gir3"),I=n.n(x),F=(n("fu2u"),n("hsAa"),n("KTG/"),{name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:16},fontSizeMax:{type:Number,default:40},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:112},contentHeight:{type:Number,default:38}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){return"rgb("+this.randomNum(t,e)+","+this.randomNum(t,e)+","+this.randomNum(t,e)+")"},drawPic:function(){var t=document.getElementById("s-canvas").getContext("2d");t.textBaseline="bottom",t.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),t.fillRect(0,0,this.contentWidth,this.contentHeight);for(var e=0;e<this.identifyCode.length;e++)this.drawText(t,this.identifyCode[e],e);this.drawLine(t),this.drawDot(t)},drawText:function(t,e,n){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var o=(n+1)*(this.contentWidth/(this.identifyCode.length+1)),a=this.randomNum(this.fontSizeMax,this.contentHeight-5),i=this.randomNum(-45,45);t.translate(o,a),t.rotate(i*Math.PI/180),t.fillText(e,0,0),t.rotate(-i*Math.PI/180),t.translate(-o,-a)},drawLine:function(t){for(var e=0;e<8;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<100;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}}),E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"s-canvas"},[e("canvas",{attrs:{id:"s-canvas",width:this.contentWidth,height:this.contentHeight}})])},staticRenderFns:[]},L=n("C7Lr")(F,E,!1,null,null,null).exports,H=n("wSez"),J=n.n(H),z=(n("5OHe"),n("HYHp")),D=n.n(z);o.default.use(J.a),o.default.use(f.a),o.default.use(D.a),o.default.component("SIdentify",L),o.default.config.productionTip=!1,o.default.use(I.a),o.default.prototype.$http=w.a,D.a.initAMapApiLoader({key:"58c724b5641c3029776eb71a472b1150",plugin:["AMap.Autocomplete","AMap.PlaceSearch","AMap.Scale","AMap.OverView","AMap.ToolBar","AMap.MapType","AMap.PolyEditor","AMap.CircleEditor","AMap.Geolocation"]}),new o.default({el:"#app",router:A,store:T,components:{App:i},template:"<App/>"}),A.beforeEach(function(t,e,n){t.meta.requireAuth?p.a.get("accessToken")?n():n({path:"/login",query:{redirect:t.fullPath}}):n()}),o.default.prototype.$http=w.a},NkIP:function(t,e,n){t.exports=n.p+"static/img/5b3b1b239525e.33ac0be.jpg"},f87J:function(t,e){},h3lo:function(t,e){},hsAa:function(t,e){},oAV5:function(t,e,n){"use strict";e.a={nameReg:/^[a-zA-Z_][a-zA-Z0-9_]{1,8}$/,pwdReg:/^[a-zA-Z0-9_]{6,10}$/,emailReg:/^[a-z0-9A-Z]+([-|_|\.]+[a-z0-9A-Z]+)*@([a-z0-9A-Z]+[-|\.])+[a-zA-Z]{2,5}$/,idCardReg:/^(([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4})|([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|(X|x))))$/,phoneReg:/^1[34578]\d{9}$/}},ssT3:function(t,e,n){"use strict";var o=n("3cXf"),a=n.n(o),i=function(){var t="mystorage",e=window.localStorage;if(!window.localStorage)return alert("浏览器支持localstorage"),!1;return{set:function(n,o){var i=e.getItem(t);return i||(this.init(),i=e.getItem(t)),(i=JSON.parse(i)).data[n]=o,e.setItem(t,a()(i)),i.data},get:function(n){var o=e.getItem(t);return!!o&&(o=JSON.parse(o)).data[n]},remove:function(n){var o=e.getItem(t);return!!o&&(delete(o=JSON.parse(o)).data[n],e.setItem(t,a()(o)),o.data)},init:function(){e.setItem(t,'{"data":{}}')},clear:function(){e.removeItem(t)}}}();e.a=i},tjAW:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAe1BMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////NgkbwAAAAKXRSTlMABzmQzfP/QAFH1E8Lo/35qhAVnRsDlmNYsF7H2+yG5yTia3U0usN9Kqsb5NkAAAIPSURBVEjH1VbdeoIwDEVLAyqWH0VEQMDB3Ps/4ZK2Q6q2urstN6Bfkp5zehL1vH8Ti8UvkpfM5wDcZ0H4TvrKhynWm5fp0Valilg9k9Sdn1F7vtvscy9dMU6H7J3915iyy34+pgeBFa4zEE9czL84IrLSIQ/2P9FLuCyKZU5vJ/zKzrwC2MpCQgZ1QO8HBJXbD4iJYqAViql12gAEloIzEibmLQqVJJjYEF8GcLAj2ijYbed5+x7gQuchJksByp4p1B/08aIYRYjteX6O96u1lVJttKLYJ3UWIJWEnjsApgui50cgWRJpQIFY152FkgchcQuHEWClMakotdifloIPjSEqVf6YaoRXS8FeQCMHLTyObTue5AXnPYjOZo1SKW9E4XLfIKC9UxCvXQxOe7MHu2xdA9eAMJwWIK3MNXKIuJ0lZL2+dXskANW0khaVG5AcY+y51esoREp19GrPDGid80SYf9n50ljGZzXFP/YWOB87AferQQaTbmhUY3FEdwtZuFA2ae6hZbS0gF819DhYcj2aTE148TjP/iTOJ5biSJfTtkB0a3Mxp3y+frKaelY3FBHXzp/iarbosH+dmQxHw2KYcDTE7deGpzsB4sscnTp3Xk9p2JJWV+G+T9xO/OZ8FKF/9Zvm6+uUMvZPJu2Jj/t85umXHpvpktfwZlRasnfzQSiiYRK/l8/Z3/wT8g24miAqRHkPOAAAAABJRU5ErkJggg=="},v156:function(t,e,n){t.exports=n.p+"static/img/5b3acc36c3539.4a2b0e0.jpg"}},["NHnr"]);
//# sourceMappingURL=app.8b529e98be89795ddf15.js.map